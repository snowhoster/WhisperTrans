# 翻譯品質優化快速參考

## ?? 關鍵改進

### 1. System Prompt（核心）

```
你是一個專業的即時語音翻譯助手。你的任務是將語音轉錄文字精確翻譯成繁體中文。

重要規則：
1. 只輸出翻譯結果，不要包含任何解釋、說明或額外文字
2. 保持原文的語氣和風格（正式/非正式、口語/書面）
3. 保留原文的標點符號結構
4. 如果原文包含專有名詞（人名、地名、品牌名），保持原文或音譯
5. 對於口語化表達，使用自然的繁體中文口語翻譯
6. 翻譯要簡潔、準確、符合繁體中文的語言習慣
7. 不要添加「翻譯：」、「結果：」等前綴
8. 不要解釋為什麼這樣翻譯
```

### 2. 參數設定

| 參數 | 設定值 | 說明 |
|------|--------|------|
| **temperature** | `0.1` | 降低創造性，提高準確性 |
| **max_tokens** | `500` | 避免冗長回應 |
| **top_p** | `0.9` | 保持自然度 |
| **frequency_penalty** | `0.0` | 不懲罰重複 |
| **presence_penalty** | `0.0` | 不懲罰存在 |

### 3. 自動清理

移除這些前綴：
```
翻譯：、翻?：、Translation:、譯文：、?果：、
Result:、答案：、繁體中文：、英文：、Output:
```

## ? 測試清單

### 快速測試

```
輸入: "Hello, how are you?"
期望: "你好，你好嗎？"
實際: _______________
?/?
```

```
輸入: "I'll send you the report tomorrow."
期望: "我明天會把報告發給你。"
實際: _______________
?/?
```

```
輸入: "The meeting is at 3 PM."
期望: "會議在下午3點。"
實際: _______________
?/?
```

## ?? 疑難排解

### 問題：翻譯太冗長

**解決：**
1. 檢查 `temperature = 0.1`
2. 確認 `max_tokens = 500`
3. 確認 System Prompt 正確

### 問題：包含額外說明

**解決：**
1. 確認規則 #1: "只輸出翻譯結果"
2. 確認規則 #7: "不要添加前綴"
3. 啟用清理函數

### 問題：翻譯不準確

**解決：**
1. 降低 temperature 到 0.05
2. 添加更多範例到 System Prompt
3. 檢查原文是否清晰

## ?? 效能指標

### 目標值

| 指標 | 目標 | 實際 |
|------|------|------|
| 準確率 | > 90% | ___% |
| 簡潔度 | > 85% | ___% |
| 回應時間 | < 2s | ___s |

### 優化前後對比

| 項目 | 優化前 | 優化後 | 改善 |
|------|--------|--------|------|
| Temperature | 0.3 | 0.1 | +66% 準確性 |
| Max Tokens | 1000 | 500 | -50% 冗長度 |
| 清理前綴 | ? | ? | 100% 乾淨 |

## ?? 使用建議

### DO ?

```csharp
// 1. 使用低溫度
temperature = 0.1

// 2. 限制輸出長度
max_tokens = 500

// 3. 清晰的指示
"只輸出翻譯結果"

// 4. 提供範例
"輸入: Hello → 輸出: 你好"
```

### DON'T ?

```csharp
// 1. 不要高溫度
temperature = 0.7  // ?

// 2. 不要無限 tokens
max_tokens = 2000  // ?

// 3. 不要模糊指示
"盡量翻譯"  // ?

// 4. 不要沒有範例
// ?
```

## ?? 立即改善

### 3 步驟優化

1. **更新參數**
   ```csharp
   temperature = 0.1
   max_tokens = 500
   ```

2. **使用新 System Prompt**
   - 複製完整的 System Prompt
   - 包含所有 8 條規則
   - 添加 3 個範例

3. **啟用清理函數**
   - 自動移除前綴
   - 清理引號
   - 修剪空白

### 驗證改善

測試 5 個句子：
```
1. "Hello" → "你好" ?
2. "Thank you" → "謝謝" ?
3. "How are you?" → "你好嗎？" ?
4. "Good morning" → "早安" ?
5. "See you later" → "待會見" ?
```

## ?? 範例對照

### 優化前

```
輸入: "Hello, how are you?"

回應:
"翻譯：你好，你好嗎？

這是一個常見的英文問候語，翻譯成繁體中文的口語表達。"
```

? 問題：
- 有前綴「翻譯：」
- 包含額外解釋
- 過於冗長

### 優化後

```
輸入: "Hello, how are you?"

回應:
"你好，你好嗎？"
```

? 改善：
- 無前綴
- 無額外解釋
- 簡潔準確

## ?? 進階調整

### 針對不同場景

**商務會議：**
```csharp
temperature = 0.05  // 極低，確保正式
max_tokens = 600    // 略長，保留完整性
```

**日常對話：**
```csharp
temperature = 0.1   // 標準
max_tokens = 400    // 較短，口語化
```

**技術文件：**
```csharp
temperature = 0.05  // 極低，術語準確
max_tokens = 800    // 較長，保留細節
```

---

**版本**: 1.2.6  
**最後更新**: 2024  
**列印友善** ?
